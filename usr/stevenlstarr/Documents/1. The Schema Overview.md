This is the official specification for the **Hultrix Application Manifest (`meta.json`)**.

This file is the brain of every `.app` bundle. It tells the OS how to display, launch, and secure the application. It replaces the complex XML/Plist files found in other OSs with a clean, modern JSON structure.

### 1. The Schema Overview

The `meta.json` file lives at the root of the application bundle (e.g., `/apps/Chrome.app/meta.json`).

**Core Principles:**

- **Strict Typing:** Version numbers are strings. Booleans are booleans.
- **No "Run" Configuration:** The entry point is *always* `./Run`. The manifest does not define the executable path; it only defines *identity*.

### 2. Standard Schema

JSON

```
{
  "id": "com.developer.appname",
  "name": "Application Name",
  "version": "1.0.0",
  "type": "Application", 
  "icon": "icon.png",
  "description": "A short description for the store/launcher.",
  "categories": ["Utility", "System"],
  "permissions": ["network", "filesystem"],
  "associates": [".txt", ".md"],
  "url_schemes": ["hultrix-app"]
}
```

------

### 3. Field Reference

| **Field**         | **Type** | **Required** | **Description**                                              |
| ----------------- | -------- | ------------ | ------------------------------------------------------------ |
| **`id`**          | `string` | **YES**      | The unique Reverse Domain Name identifier. This is used to generate the config path (`~/.conf/com.dev.app/`) and temp path. |
| **`name`**        | `string` | **YES**      | The display name shown in the Launcher and Sidebar. Can contain spaces. |
| **`version`**     | `string` | **YES**      | Semantic Versioning string (Major.Minor.Patch).              |
| **`type`**        | `string` | No           | Defaults to `Application`. Options: `Application` (GUI), `Service` (Background), `Tool` (CLI only). |
| **`icon`**        | `string` | No           | Path to the icon file relative to bundle root. Defaults to `icon.png` if omitted. |
| **`description`** | `string` | No           | A short summary shown in the "Get Info" panel or App Store.  |
| **`categories`**  | `array`  | No           | Used for grouping in the Launcher (e.g., `Game`, `Office`, `Media`, `Dev`). |
| **`permissions`** | `array`  | No           | Requests specific system access (see Section 4).             |
| **`associates`**  | `array`  | No           | List of file extensions this app can open (e.g., `[".png", ".jpg"]`). |
| **`url_schemes`** | `array`  | No           | URL protocols this app handles (e.g., `["steam", "discord"]` opens this app from a browser). |

------

### 4. Permissions System (The "Walled Garden")

Since Hultrix uses a strict User/System separation, apps must declare intent. The OS may prompt the user upon first launch.

- `"network"`: Allow internet access.
- `"camera"`: Allow webcam access.
- `"mic"`: Allow microphone access.
- `"filesystem"`: Allow the File Picker to see outside `~/Documents`.
- `"location"`: Allow GPS/Geo-IP access.

------

### 5. Examples

#### A. A Standard User Application (e.g., A Text Editor)

JSON

```
{
  "id": "io.hultrix.textpad",
  "name": "TextPad",
  "version": "2.1.0",
  "type": "Application",
  "categories": ["Office", "Utility"],
  "associates": [".txt", ".cfg", ".json", ".md"],
  "permissions": ["filesystem"]
}
```

#### B. A Game (e.g., Space Invaders)

JSON

```
{
  "id": "com.studio.spacegame",
  "name": "Space Invaders 3D",
  "version": "1.0.5",
  "type": "Application",
  "categories": ["Game"],
  "description": "A 3D remake of the classic arcade shooter.",
  "permissions": ["network", "audio"]
}
```

#### C. A Background Service (e.g., A Sync Tool)

JSON

```
{
  "id": "net.box.sync",
  "name": "Box Sync",
  "version": "4.0.0",
  "type": "Service",
  "categories": ["System"],
  "permissions": ["network", "filesystem", "notifications"]
}
```

------

### 6. SDK Implementation Logic

When the user launches an app, the Hultrix OS (or SDK runtime) performs this initialization logic:

1. **Read Manifest:** Parse `/apps/Game.app/meta.json`.
2. **Set Identity:**
   - `APP_ID` = `com.studio.spacegame`
   - `APP_NAME` = `Space Invaders 3D`
3. **Create Sandbox Paths:**
   - Ensure `~/.conf/com.studio.spacegame/` exists.
   - Ensure `/tmp/run/user/com.studio.spacegame/` exists.
4. **Execute:** Run `./Run`.

C++ SDK Usage:

Your SDK can simply read this JSON at runtime to self-configure.

C++

```
// Inside Hultrix SDK
std::string App::GetID() {
    // Automatically parses meta.json and returns "com.studio.spacegame"
    return ParseManifest("id"); 
}

std::filesystem::path App::GetConfigDir() {
    // Returns "/usr/steven/.conf/com.studio.spacegame/"
    return Hultrix::GetHomeDir() / ".conf" / GetID();
}
```

Next Step:

Now that the Filesystem, App Structure, and Metadata Spec are complete, would you like to define the Boot Process (how init launches and mounts /sys), or move on to the Graphical User Interface design rules?